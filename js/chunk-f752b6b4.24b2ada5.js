(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f752b6b4"],{"1cb4":function(t,a,e){},"3ebc":function(t,a,e){"use strict";e("99af"),e("ac1f"),e("5319");a["a"]={methods:{redirection:function(t){var a=t.token,e=t.expired,s=new Date(1e3*e);document.cookie="HEXtoken=".concat(a,";path=/;expires=").concat(s)},getToken:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)HEXtoken\s*=\s*([^;]*).*$)|^.*$/,"$1")},login:function(t){var a=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/api/","auth/login"),t).then((function(t){200===t.status&&(a.redirection(t.data),a.$router.replace("/admin"),a.$toast.success(t.data.message),a.isLoading=!1)})).catch((function(t){a.$toast.error(t.response.data.message),a.isLoading=!1}))},tokenCheck:function(){var t=this;this.$http.post("".concat("https://course-ec-api.hexschool.io/api/","auth/check"),{api_token:this.token}).then((function(a){200===a.status&&(t.$http.defaults.headers.common.Authorization="Bearer ".concat(t.getToken()))})).catch((function(a){t.$router.replace("/login"),t.$toast.error(a.response.data.message)}))},logout:function(){var t=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/api/","auth/logout"),{api_token:this.token}).then((function(a){200===a.status&&(t.token="",t.redirection(a.data),t.$router.replace("/login"),t.$toast.success(a.data.message),t.isLoading=!1)})).catch((function(a){t.$toast.error(a.response.data.message),t.isLoading=!1}))}}}},7277:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-color vld-parent"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"row"},[e("header",{staticClass:"header expander__left"},[e("p",{staticClass:"title"},[t._v("後台管理系統")]),e("a",{staticClass:"btn btn-logout",on:{click:function(a){return a.preventDefault(),t.logout(a)}}},[e("icon",{staticClass:"btn-icon",attrs:{iconName:"exit"}}),e("span",[t._v("登出")])],1)]),e("SideBar",{ref:"sidbar",attrs:{home:t.home,childs:t.childs}}),e("router-view",{staticClass:"expander__left expander__top expander__height"})],1)],1)},n=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("aside",{staticClass:"l-navbar",class:"l-navbar-"+t.navStyle},[e("nav",{staticClass:"nav"},[e("div",{staticClass:"nav__logo",class:{"no-toggler":!t.showToggler}},[t.showToggler?e("div",{staticClass:"nav__toggler"},[t._v("三")]):t._e(),e("div",{staticClass:"nav__title"},[t._v("Hi! 管理員!")])]),e("ul",{staticClass:"nav__list"},[e("router-link",{staticClass:"nav__item",attrs:{to:t.home.path,tag:"li","active-class":"actived",exact:""}},[e("icon",{staticClass:"nav__icon",attrs:{iconName:t.home.icon}}),e("span",{staticClass:"nav__text"},[t._v(t._s(t.home.name))])],1),t._l(t.childs,(function(a){return e("router-link",{key:a.path,staticClass:"nav__item",attrs:{to:t.home.path+"/"+a.path,tag:"li","active-class":"actived",exact:""}},[e("icon",{staticClass:"nav__icon",attrs:{iconName:a.icon}}),e("span",{staticClass:"nav__text"},[t._v(t._s(a.name))])],1)}))],2)])])},i=[],c={name:"SideBar",components:{},props:{showToggler:{type:Boolean,default:!1},home:{type:Object,required:!0},childs:{type:Array,required:!0},navStyle:{type:String,default:"light"}},data:function(){return{fullWidth:!1,navWidth:240}},methods:{},computed:{}},r=c,l=(e("7e60"),e("2877")),h=Object(l["a"])(r,o,i,!1,null,"3e8d4bf5",null),u=h.exports,d=e("3ebc"),p={name:"Dashboard",mixins:[d["a"]],components:{SideBar:u},data:function(){return{home:{name:"首頁",path:"/admin",icon:"dashboard"},childs:[{name:"產品列表",path:"editproducts",icon:"boxes"},{name:"優惠卷",path:"coupons",icon:"percent"},{name:"訂單列表",path:"orders",icon:"creditCard"},{name:"檔案管理",path:"storage",icon:"storage"}],token:"",isLoading:!1}},created:function(){this.token=this.getToken(),this.tokenCheck()}},f=p,g=(e("cd36"),Object(l["a"])(f,s,n,!1,null,"33c1cb3f",null));a["default"]=g.exports},"7e60":function(t,a,e){"use strict";var s=e("9ff4"),n=e.n(s);n.a},"9ff4":function(t,a,e){},cd36:function(t,a,e){"use strict";var s=e("1cb4"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-f752b6b4.24b2ada5.js.map