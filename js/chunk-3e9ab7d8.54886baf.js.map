{"version":3,"sources":["webpack:///./src/components/ImgCard.vue?f721","webpack:///./src/views/DashBoard/Storage.vue?3792","webpack:///./src/components/ImgCard.vue?4b33","webpack:///src/components/ImgCard.vue","webpack:///./src/components/ImgCard.vue?ba4f","webpack:///./src/components/ImgCard.vue","webpack:///src/views/DashBoard/Storage.vue","webpack:///./src/views/DashBoard/Storage.vue?3cbe","webpack:///./src/views/DashBoard/Storage.vue","webpack:///./src/views/DashBoard/Storage.vue?d525"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","slot","_m","directives","name","rawName","_l","item","key","id","path","total","page","isUplading","ref","upload","staticRenderFns","_v","preventDefault","copyHandler","delHandler","confirm","mixins","Storage","props","type","String","required","data","methods","$refs","dialog","isVisible","navigator","clipboard","writeText","destroyStorage","$attrs","computed","component","mataInfo","title","components","uploading","file","ImgCard","storageList","created","getdata","getStorageList","BtnClick","newHandler","modal","ModalShow","ModalTitle","editStorage","formdata","watch"],"mappings":"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","file":"js/chunk-3e9ab7d8.54886baf.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgCard.vue?vue&type=style&index=0&id=3dfc0e7d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgCard.vue?vue&type=style&index=0&id=3dfc0e7d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid vld-parent\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":true,\"background-color\":\"#555\",\"is-full-page\":true},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('LoadEffect',{attrs:{\"slot\":\"default\"},slot:\"default\"})],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"dashboard\"},[_vm._m(0),_c('main',{staticClass:\"body\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{directives:[{name:\"scrollbar\",rawName:\"v-scrollbar\"}],staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.storageList),function(item){return _c('div',{key:item.id,staticClass:\"col-4\"},[_c('ImgCard',{attrs:{\"path\":item.path,\"id\":item.id}})],1)}),0)]),_c('pagination',{attrs:{\"total_pages\":_vm.total,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event}}})],1),_c('div',{staticClass:\"col-4\"},[_c('loading',{attrs:{\"active\":_vm.isUplading,\"can-cancel\":true,\"is-full-page\":false},on:{\"update:active\":function($event){_vm.isUplading=$event}}},[_c('uploading',{attrs:{\"slot\":\"default\"},slot:\"default\"})],1),_c('file',{ref:\"file\",staticClass:\"upload__field\",on:{\"uploadSubmit\":_vm.upload}})],1)])])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"檔案管理列表\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content-overlay\"}),_c('img',{staticClass:\"content-image\",attrs:{\"src\":_vm.path}}),_c('div',{staticClass:\"content-details fadeIn-bottom\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.copyHandler($event)}}},[_vm._v(\"複製連結\")]),_c('button',{staticClass:\"btn btn-error\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.delHandler($event)}}},[_vm._v(\"刪除圖片\")])]),_c('Dialog',{ref:\"dialog\",on:{\"dialog\":_vm.confirm}},[_vm._v(\"刪除此檔案?\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\">\r\n    <div class=\"content-overlay\"></div>\r\n    <img class=\"content-image\" :src=\"path\">\r\n    <div class=\"content-details fadeIn-bottom\">\r\n      <button type=\"button\" class=\"btn btn-info\" @click.prevent=\"copyHandler\">複製連結</button>\r\n      <button type=\"button\" class=\"btn btn-error\" @click.prevent=\"delHandler\">刪除圖片</button>\r\n    </div>\r\n    <Dialog ref=\"dialog\" @dialog=\"confirm\">刪除此檔案?</Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StorageAPI from 'assets/Backend_mixins/Storage';\r\n\r\nexport default {\r\n  name: 'ImgCard',\r\n  mixins: [StorageAPI],\r\n  props: {\r\n    path: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    delHandler() {\r\n      this.$refs.dialog.isVisible = true;\r\n    },\r\n    copyHandler() {\r\n      if (!navigator.clipboard) return;\r\n      navigator.clipboard.writeText(this.path);\r\n    },\r\n    confirm() {\r\n      this.destroyStorage(this.$attrs.id)\r\n        .then(() => {\r\n          this.$parent.getdata();\r\n        });\r\n    },\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$colors: (\r\n  default: #434a54,\r\n  primary: #0073DE,\r\n  secondary: #804EFD,\r\n  info: #019EC8,\r\n  success: #8cc152,\r\n  error: #DD0002,\r\n  warning: #f6bb42,\r\n);\r\n\r\n.content {\r\n  border-radius: 10px;\r\n  position: relative;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  margin-bottom: 0.75rem;\r\n  .content-overlay {\r\n    background: rgba(0,0,0,0.7);\r\n    position: absolute;\r\n    height: 99%;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    opacity: 0;\r\n    transition: all 0.4s ease-in-out 0s;\r\n  }\r\n  &:hover .content-overlay{\r\n    opacity: 1;\r\n  }\r\n  .content-image{\r\n    max-width: 100%;\r\n  }\r\n  .content-details{\r\n    position: absolute;\r\n    text-align: center;\r\n    padding-left: 1em;\r\n    padding-right: 1em;\r\n    width: 100%;\r\n    top: 50%;\r\n    left: 50%;\r\n    opacity: 0;\r\n    transform: translate(-50%, -50%);\r\n    transition: all 0.3s ease-in-out 0s;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  &:hover .content-details{\r\n    top: 50%;\r\n    left: 50%;\r\n    opacity: 1;\r\n  }\r\n  .btn {\r\n    @include btn;\r\n    &:first-child {\r\n      margin-bottom: 1rem;\r\n    }\r\n  }\r\n}\r\n\r\n.fadeIn-bottom{\r\n  top: 80%;\r\n}\r\n\r\n@each $key, $val in $colors {\r\n  .btn-#{$key} {\r\n    border-color: darken($val, 5%);\r\n    background: $val;\r\n    color: #fff;\r\n    &:hover {\r\n      background: darken($val, 5%);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImgCard.vue?vue&type=template&id=3dfc0e7d&scoped=true&\"\nimport script from \"./ImgCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ImgCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImgCard.vue?vue&type=style&index=0&id=3dfc0e7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dfc0e7d\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid vld-parent\">\r\n    <loading :active.sync=\"isLoading\"\r\n      :can-cancel=\"true\" background-color=\"#555\"\r\n      :is-full-page=\"true\">\r\n      <LoadEffect slot=\"default\"/>\r\n    </loading>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <div class=\"dashboard\">\r\n          <header class=\"header\">\r\n            <div class=\"title\">檔案管理列表</div>\r\n          </header>\r\n          <main class=\"body\">\r\n            <div class=\"container-fluid\">\r\n              <div class=\"row\">\r\n                <div class=\"col\">\r\n                  <div v-scrollbar class=\"container-fluid\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-4\" v-for=\"item in storageList\" :key=\"item.id\">\r\n                        <ImgCard :path=\"item.path\" :id=\"item.id\"/>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <pagination :total_pages=\"total\" :page.sync=\"page\" />\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <loading :active.sync=\"isUplading\"\r\n                    :can-cancel=\"true\"\r\n                    :is-full-page=\"false\">\r\n                    <uploading slot=\"default\"/>\r\n                  </loading>\r\n                  <file class=\"upload__field\" ref=\"file\" @uploadSubmit=\"upload\"/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StorageAPI from 'assets/Backend_mixins/Storage';\r\nimport file from 'components/BackendStage/InputUpload.vue';\r\nimport ImgCard from 'components/ImgCard.vue';\r\n\r\nexport default {\r\n  mataInfo: {\r\n    title: '-檔案管理',\r\n  },\r\n  name: 'Storage',\r\n  components: {\r\n    uploading: () => import('components/BackendStage/LoadingUpload.vue'),\r\n    file,\r\n    ImgCard,\r\n  },\r\n  mixins: [StorageAPI],\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      isUplading: false,\r\n      page: 1,\r\n      total: 1,\r\n      storageList: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getdata();\r\n  },\r\n  methods: {\r\n    getdata() {\r\n      this.getStorageList(this.page);\r\n    },\r\n    BtnClick(action, data) {\r\n      this[`${action}Handler`](data);\r\n    },\r\n    newHandler() {\r\n      this.$refs.modal.ModalShow = true;\r\n      this.$refs.modal.ModalTitle = '新增檔案';\r\n    },\r\n    upload(formdata) {\r\n      this.editStorage(formdata)\r\n        .then(() => {\r\n          this.$refs.file.src = '';\r\n          this.getStorageList(this.page);\r\n        });\r\n    },\r\n  },\r\n  watch: {\r\n    page() {\r\n      this.getdata();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './style/Dashboard.scss';\r\n\r\n$basis: (15% 40% 12% 12% 15% 15%);\r\n\r\n.upload__field {\r\n  height: 100%;\r\n}\r\n\r\n.table {\r\n  @for $i from 1 through length($basis) {\r\n    &-head, &-body {\r\n      ::v-deep span:nth-of-type(#{$i}) {\r\n      flex-basis: nth($basis, $i);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Storage.vue?vue&type=template&id=aa28e3dc&scoped=true&\"\nimport script from \"./Storage.vue?vue&type=script&lang=js&\"\nexport * from \"./Storage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Storage.vue?vue&type=style&index=0&id=aa28e3dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa28e3dc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=style&index=0&id=aa28e3dc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Storage.vue?vue&type=style&index=0&id=aa28e3dc&lang=scss&scoped=true&\""],"sourceRoot":""}