{"version":3,"sources":["webpack:///./src/views/DashBoard/Products.vue?183b","webpack:///./src/views/DashBoard/Products.vue?28d4","webpack:///./src/components/BackendStage/_ProductItem.vue?6925","webpack:///./src/assets/Backend_mixins/Products.js","webpack:///src/components/BackendStage/_ProductItem.vue","webpack:///./src/components/BackendStage/_ProductItem.vue?62c2","webpack:///./src/components/BackendStage/_ProductItem.vue","webpack:///src/views/DashBoard/Products.vue","webpack:///./src/views/DashBoard/Products.vue?4eb8","webpack:///./src/views/DashBoard/Products.vue","webpack:///./src/components/BackendStage/_ProductItem.vue?ab2b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","slot","_v","preventDefault","newHandler","_l","prod","key","id","editHandler","total","page","showModal","modalTitle","clickHandler","ref","staticRenderFns","_s","category","title","_f","origin_price","price","substr","enabled","delHandler","confirm","methods","getProductList","$http","get","process","then","res","status","products","data","meta","pagination","total_pages","catch","err","$toast","error","response","message","showProduct","createProduct","post","success","editProduct","patch","$parent","destroyProduct","delete","name","mixins","Products","components","props","type","Object","required","$emit","$refs","dialog","isVisible","component","item","NewModal","ProductsOption","created","newProd","updateProd","watch"],"mappings":"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","file":"js/chunk-e30e21f2.7f47592a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=d0974f46&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=d0974f46&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid vld-parent\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":true,\"background-color\":\"#555\",\"is-full-page\":true},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('LoadEffect',{attrs:{\"slot\":\"default\"},slot:\"default\"})],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"dashboard\"},[_c('header',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"產品管理列表\")]),_c('button',{staticClass:\"ml-4 pure-button pure-button-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.newHandler($event)}}},[_vm._v(\"新增產品\")])]),_c('main',{staticClass:\"body\"},[_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"table-head\"},[_c('div',{staticClass:\"tr\"},[_c('span',{staticClass:\"th\"},[_vm._v(\"分類\")]),_c('span',{staticClass:\"th\"},[_vm._v(\"產品名稱\")]),_c('span',{staticClass:\"th\"},[_vm._v(\"原價\")]),_c('span',{staticClass:\"th\"},[_vm._v(\"售價\")]),_c('span',{staticClass:\"th\"},[_vm._v(\"是否啟用\")]),_c('span',{staticClass:\"th\"},[_c('font-awesome-icon',{staticClass:\"icon\",attrs:{\"icon\":['fas', 'user-cog']}})],1)])]),_c('div',{staticClass:\"table-body\"},_vm._l((_vm.products),function(prod){return _c('item',{key:prod.id,attrs:{\"prod\":prod},on:{\"edit\":_vm.editHandler}})}),1)]),_c('pagination',{attrs:{\"total_pages\":_vm.total,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event}}})],1)])])]),_c('NewModal',{attrs:{\"show\":_vm.showModal,\"mod\":\"XL\",\"title\":_vm.modalTitle},on:{\"update:show\":function($event){_vm.showModal=$event},\"check\":_vm.clickHandler}},[_c('ProductsOption',{ref:\"modalData\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tr vld-parent\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"color\":\"#218DFE\",\"can-cancel\":true,\"loader\":\"dots\",\"is-full-page\":false},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('span',{staticClass:\"td\"},[_vm._v(_vm._s(_vm.prod.category))]),_c('span',{staticClass:\"td\"},[_vm._v(_vm._s(_vm.prod.title))]),_c('span',{staticClass:\"td\"},[_vm._v(_vm._s(_vm._f(\"Dollar\")(_vm._f(\"Currency\")(_vm.prod.origin_price))))]),_c('span',{staticClass:\"td\"},[_vm._v(_vm._s(_vm._f(\"Dollar\")(_vm._f(\"Currency\")(_vm.prod.price))))]),_c('span',{staticClass:\"td\"},[_c('toggle',{attrs:{\"prodId\":_vm.prod.id.substr(0, 5),\"disabled\":true,\"checked\":_vm.prod.enabled}})],1),_c('span',{staticClass:\"td\"},[_c('button',{staticClass:\"pure-button pure-button-info mr-1 button-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.editHandler($event)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"marker\"}})],1),_c('button',{staticClass:\"pure-button pure-button-danger button-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.delHandler($event)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"trash-alt\"}})],1)]),_c('Dialog',{ref:\"dialog\",on:{\"dialog\":_vm.confirm}},[_vm._v(\"刪除此產品?\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n  methods: {\r\n    // 取得所有商品列表\r\n    // use in Products.vue\r\n    getProductList(page) {\r\n      this.isLoading = true;\r\n      this.$http.get(`${process.env.VUE_APP_PATH}${process.env.VUE_APP_UUID}/admin/ec/products?page=${page}&paged=10`)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            this.products = res.data.data;\r\n            this.total = res.data.meta.pagination.total_pages;\r\n            this.isLoading = false;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n          this.$toast.error(err.response.data.message);\r\n        });\r\n    },\r\n    // 取得單一商品細節\r\n    showProduct(id) {\r\n      this.isLoading = true;\r\n      return this.$http.get(`${process.env.VUE_APP_PATH}${process.env.VUE_APP_UUID}/admin/ec/product/${id}`)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            this.isLoading = false;\r\n          }\r\n          return res.data.data;\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n          this.$toast.error(err.response.data.message);\r\n        });\r\n    },\r\n    // 新增商品資訊\r\n    // use in Products.vue\r\n    createProduct(data) {\r\n      this.isLoading = true;\r\n      this.$http.post(`${process.env.VUE_APP_PATH}${process.env.VUE_APP_UUID}/admin/ec/product`, data)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            this.getProductList();\r\n            this.$toast.success('商品新增成功');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n          this.$toast.error(err.response.data.message);\r\n        });\r\n    },\r\n    // 更新商品資訊\r\n    // use in Products.vue\r\n    editProduct(data) {\r\n      this.isLoading = true;\r\n      this.$http.patch(`${process.env.VUE_APP_PATH}${process.env.VUE_APP_UUID}/admin/ec/product/${data.id}`, data)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            this.isLoading = false;\r\n            this.$parent.getProductList(this.page);\r\n            this.$toast.success(`${data.title} 編輯成功`);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n          this.$toast.error(err.response.data.message);\r\n        });\r\n    },\r\n    // 刪除商品\r\n    // use in Products.vue\r\n    destroyProduct(id) {\r\n      this.isLoading = true;\r\n      this.$http.delete(`${process.env.VUE_APP_PATH}${process.env.VUE_APP_UUID}/admin/ec/product/${id}`)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            this.isLoading = false;\r\n            this.$parent.getProductList();\r\n            this.$toast.success('商品刪除成功');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.isLoading = false;\r\n          this.$toast.error(err.response.data.message);\r\n        });\r\n    },\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"tr vld-parent\">\r\n    <loading :active.sync=\"isLoading\" color=\"#218DFE\"\r\n      :can-cancel=\"true\" loader=\"dots\"\r\n      :is-full-page=\"false\"></loading>\r\n    <span class=\"td\">{{ prod.category }}</span>\r\n    <span class=\"td\">{{ prod.title }}</span>\r\n    <span class=\"td\">{{ prod.origin_price | Currency | Dollar }}</span>\r\n    <span class=\"td\">{{ prod.price | Currency | Dollar }}</span>\r\n    <span class=\"td\">\r\n      <toggle :prodId=\"prod.id.substr(0, 5)\" :disabled=\"true\"\r\n      :checked=\"prod.enabled\"/>\r\n    </span>\r\n    <span class=\"td\">\r\n      <button type=\"button\" class=\"pure-button pure-button-info mr-1 button-small\"\r\n      @click.prevent=\"editHandler\">\r\n        <font-awesome-icon icon=\"marker\"></font-awesome-icon>\r\n      </button>\r\n      <button type=\"button\" class=\"pure-button pure-button-danger button-small\"\r\n      @click.prevent=\"delHandler\">\r\n        <font-awesome-icon icon=\"trash-alt\"></font-awesome-icon>\r\n      </button>\r\n    </span>\r\n    <Dialog ref=\"dialog\" @dialog=\"confirm\">刪除此產品?</Dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductsAPI from 'assets/Backend_mixins/Products';\r\n\r\nexport default {\r\n  name: 'ProductItem',\r\n  mixins: [ProductsAPI],\r\n  components: {\r\n  },\r\n  props: {\r\n    prod: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      showModal: false,\r\n    };\r\n  },\r\n  methods: {\r\n    editHandler() {\r\n      this.$emit('edit', this.prod.id);\r\n    },\r\n    // 刪除商品\r\n    delHandler() {\r\n      this.$refs.dialog.isVisible = true;\r\n    },\r\n    confirm() {\r\n      this.destroyProduct(this.prod.id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tr {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n}\r\n.td {\r\n  flex-grow: 1;\r\n  display: inline-block;\r\n  text-align: center;\r\n  padding: 10px 0;\r\n  color: #555;\r\n}\r\n\r\n.button-small {\r\n  font-size: 85%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_ProductItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_ProductItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_ProductItem.vue?vue&type=template&id=34e7bb27&scoped=true&\"\nimport script from \"./_ProductItem.vue?vue&type=script&lang=js&\"\nexport * from \"./_ProductItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./_ProductItem.vue?vue&type=style&index=0&id=34e7bb27&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34e7bb27\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid vld-parent\">\r\n    <loading :active.sync=\"isLoading\"\r\n      :can-cancel=\"true\" background-color=\"#555\"\r\n      :is-full-page=\"true\">\r\n        <LoadEffect slot=\"default\"/>\r\n      </loading>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <div class=\"dashboard\">\r\n          <header class=\"header\">\r\n            <div class=\"title\">產品管理列表</div>\r\n            <button type=\"button\" class=\"ml-4 pure-button pure-button-info\"\r\n              @click.prevent=\"newHandler\">新增產品</button>\r\n          </header>\r\n          <main class=\"body\">\r\n              <div class=\"table\">\r\n                <div class=\"table-head\">\r\n                  <div class=\"tr\">\r\n                    <span class=\"th\">分類</span>\r\n                    <span class=\"th\">產品名稱</span>\r\n                    <span class=\"th\">原價</span>\r\n                    <span class=\"th\">售價</span>\r\n                    <span class=\"th\">是否啟用</span>\r\n                    <span class=\"th\"><font-awesome-icon class=\"icon\" :icon=\"['fas', 'user-cog']\" />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"table-body\">\r\n                  <item v-for=\"prod in products\" :key=\"prod.id\" :prod=\"prod\"\r\n                  @edit=\"editHandler\"/>\r\n                </div>\r\n              </div>\r\n            <pagination :total_pages=\"total\" :page.sync=\"page\" />\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <NewModal :show.sync=\"showModal\" mod=\"XL\" :title=\"modalTitle\" @check=\"clickHandler\">\r\n      <ProductsOption ref=\"modalData\"/>\r\n    </NewModal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport item from 'components/BackendStage/_ProductItem.vue';\r\nimport ProductsAPI from 'assets/Backend_mixins/Products';\r\n\r\nexport default {\r\n  name: 'Products',\r\n  components: {\r\n    item,\r\n    NewModal: () => import('components/BackendStage/Modal.vue'),\r\n    ProductsOption: () => import('components/BackendStage/ProductsModalItem.vue'),\r\n  },\r\n  mixins: [ProductsAPI],\r\n  created() {\r\n    this.getProductList(this.page);\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      page: 1,\r\n      total: 1,\r\n      products: [],\r\n      showModal: false,\r\n      modalTitle: '新增產品',\r\n    };\r\n  },\r\n  methods: {\r\n    newHandler() {\r\n      this.modalTitle = '新增產品';\r\n      this.showModal = true;\r\n    },\r\n    newProd() {\r\n      const data = { ...this.$refs.modalData.inputTemp };\r\n      this.createProduct(data);\r\n    },\r\n    editHandler(id) {\r\n      const vm = this;\r\n      this.modalTitle = '編輯產品';\r\n      this.showProduct(id)\r\n        .then((data) => {\r\n          vm.showModal = true;\r\n          vm.$refs.modalData.inputTemp = { ...data };\r\n        });\r\n    },\r\n    updateProd() {\r\n      const data = this.$refs.modalData.inputTemp;\r\n      this.editProduct(data);\r\n    },\r\n    clickHandler() {\r\n      if (this.modalTitle === '新增產品') {\r\n        this.newProd();\r\n      }\r\n      if (this.modalTitle === '編輯產品') {\r\n        this.updateProd();\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    page() {\r\n      this.getProductList(this.page);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './style/Dashboard.scss';\r\n\r\n$basis: (15% 40% 12% 12% 15% 15%);\r\n\r\n.table {\r\n  @for $i from 1 through length($basis) {\r\n    &-head, &-body {\r\n      ::v-deep span:nth-of-type(#{$i}) {\r\n      flex-basis: nth($basis, $i);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=d0974f46&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=d0974f46&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0974f46\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_ProductItem.vue?vue&type=style&index=0&id=34e7bb27&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_ProductItem.vue?vue&type=style&index=0&id=34e7bb27&lang=scss&scoped=true&\""],"sourceRoot":""}